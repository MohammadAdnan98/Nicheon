<div class="admin-page">

  <!-- Page Header -->
  <div class="page-header">
    <div>
      <h2>Sellers</h2>
      <p class="subtitle">Manage seller verification & access</p>
    </div>

    <div class="filters">
      <label>Status</label>
      <select [(ngModel)]="status" (change)="loadSellers()">
        <option [value]="2">Approved</option>
        <option [value]="1">Pending</option>
        <option [value]="3">Suspended</option>
      </select>
    </div>
  </div>

  <!-- Table Card -->
  <div class="card table-card">
    <table class="admin-table">
      <thead>
        <tr>
          <th>Business</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Location</th>
          <th>Status</th>
          <th>Joined</th>
          <th class="text-center">Action</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let s of sellers">
          <!-- Business -->
          <td>
            <div class="business-cell">
              <strong>{{ s.businessName }}</strong>
              <span>{{ s.businessType }}</span>
            </div>
          </td>

          <!-- Email -->
          <td>{{ s.primaryEmail }}</td>

          <!-- Phone -->
          <td>{{ s.primaryPhone }}</td>

          <!-- Location -->
          <td>{{ s.city }}, {{ s.state }}</td>

          <!-- Status -->
          <td>
            <span
              class="status-badge"
              [ngClass]="{
                'approved': s.status === 'Approved',
                'pending': s.status === 'Pending',
                'suspended': s.status === 'Suspended'
              }"
            >
              {{ s.status }}
            </span>
          </td>

          <!-- Joined -->
          <td>{{ s.createdAt | date:'dd MMM yyyy' }}</td>

          <!-- Action -->
          <td class="text-center">
            <button
              *ngIf="s.status === 'Pending' || s.status === 'Rejected'"
              class="btn btn-success"
              (click)="changeStatus(s.userId, 2)">
              Approve
            </button>

            <button
              *ngIf="s.status !== 'Rejected'"
              class="btn btn-danger"
              (click)="changeStatus(s.userId, 3)">
              Suspend
            </button>
          </td>
        </tr>

        <!-- Empty state -->
        <tr *ngIf="sellers.length === 0">
          <td colspan="7" class="empty">
            No sellers found for selected status
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
