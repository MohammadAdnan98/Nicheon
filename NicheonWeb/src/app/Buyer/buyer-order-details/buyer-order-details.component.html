<!-- =========================
     BREADCRUMB
========================= -->
<div class="breadcrumb">
  Home / Orders / Order Details
</div>

<div class="order-details-page">

  <!-- =========================
       HEADER
  ========================= -->
  <div class="order-details-header">
    <div>
      <h2>Order Details</h2>
      <p class="order-id">
        Order ID: <b>#{{ order.orderId }}</b>
      </p>
    </div>

    <div class="order-meta">
      <span>Placed on: <b>{{ order.orderDate }}</b></span>
      <span>
        Status:
        <b class="status" [ngClass]="order.status.toLowerCase()">
          {{ getStatusLabel() }}
        </b>
      </span>
    </div>
  </div>

  <!-- =========================
       MAIN GRID
  ========================= -->
  <div class="order-details-grid">

    <!-- LEFT -->
    <div class="order-left">

      <!-- DELIVERY ADDRESS -->
      <div class="card">
        <h4>Delivery Address</h4>
        <p>
          <b>{{ order.address.name }}</b><br />
          {{ order.address.line1 }}<br />
          {{ order.address.line2 }}<br />
          {{ order.address.city }}, {{ order.address.state }} – {{ order.address.pincode }}<br />
          {{ order.address.country }}
        </p>
      </div>

      <!-- PAYMENT METHOD -->
      <div class="card">
        <h4>Payment Method</h4>
        <p>{{ order.paymentMethod }}</p>
      </div>

      <!-- ITEMS -->
      <div class="card">
        <h4>Items in this Order</h4>

        <div class="order-item" *ngFor="let item of order.items">
          <img [src]="item.image" />

          <div class="item-info">
            <h5>{{ item.name }}</h5>
            <p class="item-attrs">
              Color: {{ item.color }} |
              Size: {{ item.size }} |
              Design: {{ item.design }}
            </p>
            <span class="seller">
              Sold by: {{ item.supplier }}
            </span>
          </div>

          <div class="item-price">
            ₹{{ item.price }}<br />
            <small>Qty: {{ item.qty }}</small>
          </div>
        </div>
      </div>

    </div>

    <!-- RIGHT -->
    <div class="order-right">

      <!-- SUMMARY -->
      <div class="card summary-card">
        <h4>Order Summary</h4>

        <div class="summary-row">
          <span>Item Total</span>
          <span>₹{{ itemTotal }}</span>
        </div>

        <div class="summary-row">
          <span>Shipping</span>
          <span class="free">FREE</span>
        </div>

        <hr />

        <div class="summary-row total">
          <span>Total</span>
          <span>₹{{ grandTotal }}</span>
        </div>
      </div>

      <!-- ACTIONS -->
      <div class="card action-card">
        <button class="btn-primary" (click)="trackOrder()">
          Track Order
        </button>

        <button class="btn-outline" (click)="reorder()">
          Reorder
        </button>

        <!-- CANCEL (only if NOT delivered) -->
        <button
          class="btn-danger"
          *ngIf="order.status !== 'DELIVERED'"
          (click)="cancelOrder()"
        >
          Cancel Order
        </button>

        <!-- RETURN (only if delivered) -->
        <button
          class="btn-warning"
          *ngIf="order.status === 'DELIVERED'"
          (click)="returnOrder()"
        >
          Return Order
        </button>
      </div>

      <!-- SUPPORT -->
      <div class="card support-card">
        <h4>Need Help?</h4>

        <button class="btn-outline" (click)="contactSeller()">
          Contact Seller
        </button>

        <button class="btn-outline" (click)="raiseIssue()">
          Raise an Issue
        </button>

        <p class="help-note">
          Order protected with secure payments and verified sellers.
        </p>
      </div>

    </div>
  </div>

</div>
