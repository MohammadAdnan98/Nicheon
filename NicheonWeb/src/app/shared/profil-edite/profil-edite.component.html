<div class="edit-profile-container shadow-lg">

  <!-- ðŸš€ Toast Notification -->
<div 
  class="toast-message" 
  [ngClass]="toastType" 
  *ngIf="showToastBox">
  {{ toastMessage }}
</div>

  <!-- ðŸ”™ Back Button -->
  <div class="back-btn-wrapper mb-3">
    <button class="btn btn-outline-dark btn-sm" (click)="cancelEdit()">
      <i class="bi bi-arrow-left"></i> Back to Profile
    </button>
  </div>

  <!-- Header -->
  <div class="page-header text-center mb-4">
    <h4 class="fw-bold text-dark mb-1">
      <i class="bi bi-person-lines-fill text-gold"></i> Edit Profile
    </h4>
    <p class="text-muted small">Update your business and contact details</p>
  </div>

  <form [formGroup]="editForm" (ngSubmit)="saveProfile()">
    <!-- Profile Image -->
    <div class="image-section text-center mb-4">
      <div class="profile-img-wrapper position-relative mx-auto">
        <img
          [src]="editForm.value.profileImage || 'assets/Image/profile-logo.jpg'"
          class="profile-img shadow-sm"
          alt="Profile"
        />
        <label for="fileUpload" class="upload-overlay">
          <i class="bi bi-camera-fill"></i>
        </label>
        <input id="fileUpload" type="file" (change)="onFileSelected($event)" accept="image/*" hidden />
      </div>
      <small class="text-muted d-block mt-2">Click camera to change photo</small>
    </div>

    <!-- Details -->
    <div class="row g-3">
      <div class="col-md-6">
        <label>Full Name *</label>
        <input formControlName="fullName" type="text" class="form-control" placeholder="Owner's Full Name" />
      </div>
      <div class="col-md-6">
        <label>Email *</label>
        <input formControlName="primaryEmail" type="email" class="form-control" placeholder="Business Email" />
      </div>
      <div class="col-md-6">
        <label>Mobile *</label>
        <input formControlName="primaryPhone" type="text" class="form-control" placeholder="Mobile Number" />
      </div>
      <div class="col-md-6">
        <label>Business Name *</label>
        <input formControlName="businessName" type="text" class="form-control" placeholder="Shop / Company Name" />
      </div>
      <div class="col-md-6">
        <label>Business Type *</label>
        <input formControlName="businessType" type="text" class="form-control" placeholder="e.g. Wholesaler" />
      </div>
      <div class="col-md-6">
        <label>GST Number</label>
        <input formControlName="gstNumber" type="text" class="form-control" placeholder="GSTIN (Optional)" />
      </div>
      <div class="col-md-6">
        <label>PAN</label>
        <input formControlName="pan" type="text" class="form-control" placeholder="PAN Number" />
      </div>

      <!-- Address Section -->
      <div class="col-12 mt-4">
        <h6 class="section-heading text-gold"><i class="bi bi-geo-alt-fill me-1"></i> Business Address</h6>
      </div>
      <div class="col-12">
        <label>Address *</label>
        <input formControlName="address" type="text" class="form-control" placeholder="Shop No. 12, Moti Bazaar" />
      </div>
      <div class="col-12">
        <label>Landmark</label>
        <input formControlName="landmark" type="text" class="form-control" placeholder="Near Jain Temple" />
      </div>
      <div class="col-md-6">
        <label>City *</label>
        <input formControlName="city" type="text" class="form-control" placeholder="City" />
      </div>
      <div class="col-md-6">
        <label>State *</label>
        <input formControlName="state" type="text" class="form-control" placeholder="State" />
      </div>
      <div class="col-md-6">
        <label>Country *</label>
        <input formControlName="country" type="text" class="form-control" placeholder="Country" />
      </div>
      <div class="col-md-6">
        <label>Pincode *</label>
        <input formControlName="pincode" type="text" class="form-control" placeholder="Postal Code" />
      </div>
    </div>

    <!-- Buttons -->
    <div class="text-center mt-5">
      <button type="submit" class="btn btn-gold px-4 me-2" [disabled]="loading">
        ðŸ’¾ {{ loading ? 'Saving...' : 'Save Changes' }}
      </button>
      <button type="button" class="btn btn-outline-dark px-4" (click)="cancelEdit()">Cancel</button>
    </div>
  </form>
</div>
